<!DOCTYPE html>
<html lang="en" class="">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <title>Check Out - 3.Payment</title>

  <!-- css -->
  <link rel="stylesheet" href="../../css/aos.css">
  <link rel="stylesheet" href="../../css/landing.css">
</head>
<body style="background-color: var(--body-bg);">
  <!-- header -->
  <header id="header">
    <div class="inner">
      <div class="flex">
        <h1 class="logo">
          <a href="./"><img src="../../images/common/logo.svg" alt="Vuexy">Vuexy</a>
        </h1>

        <nav class="nav">
          <div class="nav-list"><a href="#visual" class="nav-link active">Home</a></div>
          <div class="nav-list"><a href="#features" class="nav-link">Features</a></div>
          <div class="nav-list"><a href="#team" class="nav-link">Team</a></div>
          <div class="nav-list"><a href="#faq" class="nav-link">FAQ</a></div>
          <div class="nav-list"><a href="#contact" class="nav-link">Contact us</a></div>
          <div class="nav-list"><a href="javascript:void(0)" class="nav-link openSub">Pages <i class="ic_chevron_down"></i></a>
            <div class="nav-sub">
              <div class="nav-list"><a href="javascript:void(0)" class="nav-link">Payment</a></div>
              <div class="nav-list"><a href="javascript:void(0)" class="nav-link">Pricing</a></div>
              <div class="nav-list"><a href="javascript:void(0)" class="nav-link">Help Center</a></div>
              <div class="nav-list"><a href="javascript:void(0)" class="nav-link">Check Out</a></div>
            </div>
          </div>

          <div class="nav-close ic_x"></div>
        </nav>
      </div>
      <div class="flex_right">
        <p class="theme_toggle ic_moon_stars"></p>
        <button class="btn type_basic">
          <div class="ripple js-ripple">
            <span class="ripple__circle"></span>
          </div>
          <i><img src="../../images/system/shopping_cart_w.svg" alt=""></i>Purchase Now
        </button>
        <p class="nav_toggle ic_menu_2"></p>
      </div>
    </div>
  </header>

  <!-- main -->
  <main id="main">
    <section class="checkout box_wrap">
      <div class="inner">
        <div class="checkout-nav">
          <div class="step active">
            <div class="step_icon step_1"></div>
            <p class="step_txt">Cart</p>
          </div>
          <i class="step_divider ic_chevron_right_gr"></i>
          <div class="step active">
            <div class="step_icon step_2"></div>
            <p class="step_txt">Address</p>
          </div>
          <i class="step_divider ic_chevron_right_gr"></i>
          <div class="step active">
            <div class="step_icon step_3"></div>
            <p class="step_txt">Payment</p>
          </div>
          <i class="step_divider ic_chevron_right_gr"></i>
          <div class="step">
            <div class="step_icon step_4"></div>
            <p class="step_txt">Confirmation</p>
          </div>
        </div>

        <section class="checkout-cart">
          <div class="checkout-left">
            <div class="alert type_label color_success">
              <div class="alert-icon"></div>
              <div class="alert-data">
                <p class="alert-title">Available Offer</p>
                <div class="alert-content">
                  <p>- 0% Instant Discount on Bank of America Corp Bank Debit and Credit cards </p>
                  <p>- 50% Cutback Voucher of up to $60 on first ever PayPal transaction. TCA</p>
                </div>
              </div>
              <div class="alertDel"></div>
            </div>

            <div class="checkout-payment">
              <div class="payment_type">
                <button class="btn active">
                  <div class="ripple js-ripple">
                    <span class="ripple__circle"></span>
                  </div>
                  Card
                </button>
                <button class="btn ">
                  <div class="ripple js-ripple">
                    <span class="ripple__circle"></span>
                  </div>
                  Cash On Delivery
                </button>
                <button class="btn ">
                  <div class="ripple js-ripple">
                    <span class="ripple__circle"></span>
                  </div>
                  Gift card
                </button>
              </div>

              <div class="payment_grp">
                <div class="input_basic">
                  <div class="inner">
                    <input type="tel" placeholder="5221 3668 7996 5223" maxlength="25" id='input_cardno' class="ccFormatMonitor" inputmode="numeric" value="" required>
                    <input type="hidden" class="cardNumber" id="" />
                    <label for="input_cardno" class="input_label">Card Number</label>
                  </div>
                </div>

                <div class="grid_3">
                  <div class="input_basic">
                    <div class="inner">
                      <input type="text" placeholder="John Doe" id='input_name' value="" required>
                      <label for="input_name" class="input_label">Name</label>
                    </div>
                  </div>
                  <div class="input_basic">
                    <div class="inner">
                      <input type="text" placeholder="MM/YY" id='inputExpDate' maxlength="7" inputmode="numeric" value="" required>
                      <label for="inputExpDate" class="input_label">EXP. date</label>
                    </div>
                  </div>
                  <div class="input_basic">
                    <div class="inner">
                      <input type="password" placeholder="654" id='input_cvv' class="cvv" maxlength="3" inputmode="numeric" value="" required>
                      <label for="input_cvv" class="input_label">CVV</label>
                    </div>
                  </div>
                </div>
              </div>

              <div class="input_switch">
                <input type="checkbox" class="" id="swtich1" />
                <label for="swtich1" class="switch_label">
                  <span class="swtich_btn"></span>
                  <span class="switch_txt">Save card for future billing?</span>
                </label>
              </div>

              <div class="btn_wrap">
                <button class="btn type_basic">
                  <div class="ripple js-ripple">
                    <span class="ripple__circle"></span>
                  </div>
                  Save Changes</button>
                <button class="btn type_label color_gr">
                  <div class="ripple js-ripple">
                    <span class="ripple__circle"></span>
                  </div>
                  Reset</button>
              </div>
            </div>
          </div>
          
          <div class="checkout-right">
            <div class="right_box">
              <div class="checkout-details">
                <div class="title">Price Details</div>
                <div class="detail_list">
                  <div class="detail_grp">
                    <p class="sbj">Order Total</p>
                    <p class="txt">$1198.00</p>
                  </div>
                  <div class="detail_grp">
                    <p class="sbj">Delivery Charges</p>
                    <p class="txt"><span class="free">$5.00</span> <span class="chip size_s type_label color_success">FREE</span></p>
                  </div>
                </div>
              </div>

              <div class="checkout-details">
                <div class="title">Price Details</div>
                <div class="detail_list">
                  <div class="detail_grp">
                    <p class="sbj">Total</p>
                    <p class="txt font_m">$1198.00</p>
                  </div>
                  <div class="detail_grp">
                    <p class="sbj">Deliver to:</p>
                    <p class="txt"><span class="chip size_s type_label color_pr">HOME</span></p>
                  </div>
                  <div class="detail_grp2">
                    <p class="sbj">John Doe (Default),</p>
                    <p class="txt">
                      4135 Parkway Street,<br>
                      Los Angeles, CA, 90017.<br>
                      Mobile : +1 906 568 2332
                    </p>
                  </div>
                  <a href="javascript:void(0)">Change address</a>
                </div>
              </div>
            </div>
            

            <button class="btn type_basic">
              <div class="ripple js-ripple">
                <span class="ripple__circle"></span>
              </div>
              Place Order</button>
          </div>
        </section>
      </div>
    </section>
  </main>

  <!-- footer -->
  <footer id="footer" class="footer" >
    <div class="inner">
      <div class="footer-info">
        <div class="footer-logo"><img src="../../images/common/logo.svg" alt=""> <p>Vuexy</p></div>
        <p class="">Most developer friendly & highly customisable Admin Dashboard Template.</p>
        <div class="footer-mail">
          <label class="input_label" for="footer_email">Subscribe to newsletter</label>
          <div class="footer-input">
            <input type="email" placeholder="Your email" id="footer_email">
            <button class="btn type_basic">
              <div class="ripple js-ripple">
                <span class="ripple__circle"></span>
              </div>
              Subscribe</button>
          </div>
        </div>
      </div>
      <div class="footer-menu">
        <p class="title">Pages</p>
        <div class="menu_list">
          <a href="javascript:void(0)" class="menu_link"><p>Pricing</p></a>
          <a href="javascript:void(0)" class="menu_link"><p>Payment</p> <span class="chip type_basic size_s color_pr">New</span></a>
          <a href="javascript:void(0)" class="menu_link"><p>Maintenance</p></a>
          <a href="javascript:void(0)" class="menu_link"><p>Coming Soon</p></a>
        </div>
      </div>
      <div class="footer-menu">
        <p class="title">Products</p>
        <div class="menu_list">
          <a href="javascript:void(0)" class="menu_link"><p>Page Builder</p></a>
          <a href="javascript:void(0)" class="menu_link"><p>Admin Dashboards</p></a>
          <a href="javascript:void(0)" class="menu_link"><p>UI Kits</p></a>
          <a href="javascript:void(0)" class="menu_link"><p>Illustrations</p></a>
        </div>

        
      </div>
      <div class="footer-app">
        <p class="txt">Download our app</p>
        <a href="javascript:void(0)"><img src="../../images/app_apple.png" alt=""></a>
        <a href="javascript:void(0)"><img src="../../images/app_google.png" alt=""></a>
      </div>
    </div>
    <div class="copyright">
      <div class="inner">
        <p class="txt">© 2024 <b>Pixinvent,</b> Made with ❤️ for a better web.</p>

        <div class="social">
          <a href="javascript:void(0)"><img src="../../images/social_1.svg" alt=""></a>
          <a href="javascript:void(0)"><img src="../../images/social_2.svg" alt=""></a>
          <a href="javascript:void(0)"><img src="../../images/social_3.svg" alt=""></a>
          <a href="javascript:void(0)"><img src="../../images/social_4.svg" alt=""></a>
        </div>
      </div>
      
    </div>
  </footer>

  <!-- js -->
  <script src="../../js/jquery.min.js""></script>
  <script>
    
    //테마변경 
    $(".theme_toggle").click(function(){
      $('html').toggleClass('dark');
    })
    //리플버튼
    var $ripple = $('.js-ripple');
    $ripple.on('click.ui.ripple', function(e) {

      var $this = $(this);
      var $offset = $this.parent().offset();
      var $circle = $this.find('.ripple__circle');

      var x = e.pageX - $offset.left;
      var y = e.pageY - $offset.top;

      $circle.css({
        top: y + 'px',
        left: x + 'px'
      });

      $this.addClass('is-active');
    });

    $ripple.on('animationend webkitAnimationEnd oanimationend MSAnimationEnd', function(e) {
      $(this).removeClass('is-active');
    });

    


    //nav
    $(".openSub").click(function(){
      $(this).toggleClass('open')
      $(".nav-sub").slideToggle();
    })

    $(window).on("resize", function(){
      const bodyWith = $(this).width()
      if(bodyWith > 960){
        $('#header .inner').removeClass('overlay');
      }
    });

    $('.nav_toggle').click(function(){
      $('.nav').toggleClass('navOpen');
      $('#header .inner').addClass('overlay');
    })

    $('.nav-close').click(function(){
      $('.nav').removeClass('navOpen');
      $('#header .inner').removeClass('overlay');
    })

    //결제타입선택
    $('.payment_type').find('.btn').click(function(){
      $(this).addClass('active')
      $(this).siblings().removeClass('active')
    })

  var app;

(function() {
  'use strict';
  
  app = {
    monthAndSlashRegex: /^\d\d \/ $/, // regex to match "MM / "
    monthRegex: /^\d\d$/, // regex to match "MM"
    
    el_cardNumber: '.ccFormatMonitor',
    el_expDate: '#inputExpDate',
    el_cvv: '.cvv',
    el_ccUnknown: 'cc_type_unknown',
    el_ccTypePrefix: 'cc_type_',
    el_monthSelect: '#monthSelect',
    el_yearSelect: '#yearSelect',
    
    cardTypes: {
      'American Express': {
        name: 'American Express',
        code: 'ax',
        security: 4,
        pattern: /^3[47]/,
        valid_length: [15],
        formats: {
          length: 15,
          format: 'xxxx xxxxxxx xxxx'
        }
      },
      'Visa': {
				name: 'Visa',
				code: 'vs',
        security: 3,
				pattern: /^4/,
				valid_length: [16],
				formats: {
						length: 16,
						format: 'xxxx xxxx xxxx xxxx'
					}
			},
      'Maestro': {
				name: 'Maestro',
				code: 'ma',
        security: 3,
				pattern: /^(50(18|20|38)|5612|5893|63(04|90)|67(59|6[1-3])|0604)/,
				valid_length: [16],
				formats: {
						length: 16,
						format: 'xxxx xxxx xxxx xxxx'
					}
			},
      'Mastercard': {
				name: 'Mastercard',
				code: 'mc',
        security: 3,
				pattern: /^5[1-5]/,
				valid_length: [16],
				formats: {
						length: 16,
						format: 'xxxx xxxx xxxx xxxx'
					}
			} 
    }
  };
  
  app.addListeners = function() {
      $(app.el_expDate).on('keydown', function(e) {
        app.removeSlash(e);
      });

      $(app.el_expDate).on('keyup', function(e) {
        app.addSlash(e);
      });

      $(app.el_expDate).on('blur', function(e) {
        app.populateDate(e);
      });

      $(app.el_cvv +', '+ app.el_expDate).on('keypress', function(e) {
        return e.charCode >= 48 && e.charCode <= 57;
      });  
  };
  
  app.addSlash = function (e) {
    var isMonthEntered = app.monthRegex.exec(e.target.value);
    if (e.key >= 0 && e.key <= 9 && isMonthEntered) {
      e.target.value = e.target.value + " / ";
    }
  };
  
  app.removeSlash = function(e) {
    var isMonthAndSlashEntered = app.monthAndSlashRegex.exec(e.target.value);
    if (isMonthAndSlashEntered && e.key === 'Backspace') {
      e.target.value = e.target.value.slice(0, -3);
    }
  };
  
  app.populateDate = function(e) {
    var month, year;
    
    if (e.target.value.length == 7) {
      month = parseInt(e.target.value.slice(0, -5));
      year = "20" + e.target.value.slice(5);
      
      if (app.checkMonth(month)) {
        $(app.el_monthSelect).val(month);
      } else {
        $(app.el_monthSelect).val(0);
      }
      
      if (app.checkYear(year)) {
        $(app.el_yearSelect).val(year);
      } else {
        $(app.el_yearSelect).val(0);
      }
      
    }
  };
  
  app.checkMonth = function(month) {
    if (month <= 12) {
      var monthSelectOptions = app.getSelectOptions($(app.el_monthSelect));
      month = month.toString();
      if (monthSelectOptions.includes(month)) {
        return true; 
      }
    }
  };
  
  app.checkYear = function(year) {
    var yearSelectOptions = app.getSelectOptions($(app.el_yearSelect));
    if (yearSelectOptions.includes(year)) {
      return true; 
    }
  };
          
  app.getSelectOptions = function(select) {
    var options = select.find('option');
    var optionValues = [];
    for (var i = 0; i < options.length; i++) {
      optionValues[i] = options[i].value;
    }
    return optionValues;
  };
  
  app.setMaxLength = function ($elem, length) {
    if($elem.length && app.isInteger(length)) {
      $elem.attr('maxlength', length);
    }else if($elem.length){
      $elem.attr('maxlength', '');
    }
  };
  
  app.isInteger = function(x) {
    return (typeof x === 'number') && (x % 1 === 0);
  };

  app.createExpDateField = function() {
    $(app.el_monthSelect +', '+ app.el_yearSelect).hide();
    $(app.el_monthSelect).parent().prepend('<input type="text" class="ccFormatMonitor">');
  };
  
  
  app.isValidLength = function(cc_num, card_type) {
    for(var i in card_type.valid_length) {
      if (cc_num.length <= card_type.valid_length[i]) {
        return true;
      }
    }
    return false;
  };

  app.getCardType = function(cc_num) {
    for(var i in app.cardTypes) {
      var card_type = app.cardTypes[i];
      if (cc_num.match(card_type.pattern) && app.isValidLength(cc_num, card_type)) {
        return card_type;
      }
    }
  };

  app.getCardFormatString = function(cc_num, card_type) {
    for(var i in card_type.formats) {
      var format = card_type.formats[i];
      if (cc_num.length <= format.length) {
        return format;
      }
    }
  };

  app.formatCardNumber = function(cc_num, card_type) {
    var numAppendedChars = 0;
    var formattedNumber = '';
    var cardFormatIndex = '';

    if (!card_type) {
      return cc_num;
    }

    var cardFormatString = app.getCardFormatString(cc_num, card_type);
    for(var i = 0; i < cc_num.length; i++) {
      cardFormatIndex = i + numAppendedChars;
      if (!cardFormatString || cardFormatIndex >= cardFormatString.length) {
        return cc_num;
      }

      if (cardFormatString.charAt(cardFormatIndex) !== 'x') {
        numAppendedChars++;
        formattedNumber += cardFormatString.charAt(cardFormatIndex) + cc_num.charAt(i);
      } else {
        formattedNumber += cc_num.charAt(i);
      }
    }

    return formattedNumber;
  };

  app.monitorCcFormat = function($elem) {
    var cc_num = $elem.val().replace(/\D/g,'');
    var card_type = app.getCardType(cc_num);
    $elem.val(app.formatCardNumber(cc_num, card_type));
    app.addCardClassIdentifier($elem, card_type);
  };

  app.addCardClassIdentifier = function($elem, card_type) {
    var classIdentifier = app.el_ccUnknown;
    if (card_type) {
      classIdentifier = app.el_ccTypePrefix + card_type.code;
      app.setMaxLength($(app.el_cvv), card_type.security);
    } else {
      app.setMaxLength($(app.el_cvv));
    }

    if (!$elem.hasClass(classIdentifier)) {
      var classes = '';
      for(var i in app.cardTypes) {
        classes += app.el_ccTypePrefix + app.cardTypes[i].code + ' ';
      }
      $elem.removeClass(classes + app.el_ccUnknown);
      $elem.addClass(classIdentifier);
    }
  };

  
  app.init = function() {

    $(document).find(app.el_cardNumber).each(function() {
      var $elem = $(this);
      if ($elem.is('input')) {
        $elem.on('input', function() {
          app.monitorCcFormat($elem);
        });
      }
    });
    
    app.addListeners();
    
  }();
  
})();
  </script>
</body>
</html>
